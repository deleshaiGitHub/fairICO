<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solana Wallet Integration</title>
  <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.76.0/dist/web3.umd.min.js"></script>
</head>
<body>
  <h1>Welcome to Solana App</h1>
  <button id="connect-wallet">Connect Wallet</button>
  <p id="wallet-address"></p>
  <p id="sol-balance"></p>

  <script>
    const { Connection, PublicKey, LAMPORTS_PER_SOL } = solanaWeb3;
    const MAINNET_RPC_URL = "https://api.mainnet-beta.solana.com";
    const connection = new Connection(MAINNET_RPC_URL);

    document.getElementById("connect-wallet").addEventListener("click", async () => {
      if (!window.solana || !window.solana.isPhantom) {
        alert("Please install the Phantom wallet extension.");
        return;
      }

      try {
        const wallet = await window.solana.connect();
        const publicKey = wallet.publicKey.toString();
        document.getElementById("wallet-address").innerText = `Wallet: ${publicKey}`;

        const balance = await connection.getBalance(new PublicKey(publicKey));
        const solBalance = balance / LAMPORTS_PER_SOL;
        document.getElementById("sol-balance").innerText = `Balance: ${solBalance.toFixed(4)} SOL`;
      } catch (error) {
        console.error("Error:", error);
        alert("Failed to connect or fetch balance.");
      }
    });
  </script>
</body>
</html>
